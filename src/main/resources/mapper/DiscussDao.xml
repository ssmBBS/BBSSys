<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >

<mapper namespace="com.spring.bbs.dao.DiscussDao">

    <sql id="baseList">
        accountid,commentid,content,createTime
    </sql>

    <!--根据comment的id 获取 result
    根据时间升序显示-->
    <select id="select" parameterType="java.lang.Integer">
      SELECT
      <include refid="baseList"/>
        FROM discuss
        ORDER BY createTime
    </select>

    <!--插入-->
    <insert id="insert" parameterType="Discuss">
        INSERT INTO discuss
        VALUES (#{accountid},#{commentid},#{content},now())
    </insert>

    <!--删除-->
    <delete id="delete" parameterType="Discuss">
        DELETE FROM discuss
        WHERE accountid = #{accountid}
        AND commentid = #{commentid}
    </delete>
    
    <!--count 数目,输入commentId-->
    <select id="selectCount" parameterType="java.lang.Integer">
        SELECT count(*)
        FROM discuss
        WHERE commentid = #{commentId}
    </select>
</mapper>